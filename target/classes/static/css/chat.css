:root{
    --bg:#f2f5f8;
    --left-bg:#fff;
    --accent:#0a84ff;
    --muted:#6c757d;
    --bubble-me:#daf1ff;
    --bubble-them:#fff;
}

*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:Inter,Arial,sans-serif;background:var(--bg);color:#222}
.app-shell{display:flex;flex-direction:column;height:100vh}
.app-header{height:56px;background:#fff;border-bottom:1px solid #e6eef6;display:flex;align-items:center;justify-content:space-between;padding:0 16px}
.brand{font-weight:700;color:var(--accent)}
.app-main{display:flex;flex:1;padding:16px;gap:16px;align-items:stretch}

/* left */
.col-left{width:360px;display:flex;flex-direction:column}
.left-top{padding:8px 0}
.left-search{width:100%;padding:8px;border-radius:8px;border:1px solid #e7eef7}
.conversations-list{background:var(--left-bg);border-radius:8px;overflow:auto;padding:8px;height:calc(100vh - 160px)}
.conv-item{display:flex;gap:12px;padding:12px;border-radius:8px;align-items:center;cursor:pointer}
.conv-item:hover{background:#f4f8fb}
.conv-avatar{width:48px;height:48px;border-radius:50%;object-fit:cover}
.conv-main{flex:1;min-width:0}
.conv-row{display:flex;justify-content:space-between;align-items:center}
.conv-name{font-weight:600;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
.conv-time{font-size:12px;color:var(--muted)}
.conv-sub{display:flex;justify-content:space-between;align-items:center;gap:8px;margin-top:6px}
.conv-preview{color:var(--muted);font-size:13px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;flex:1}
.conv-unread{background:#ff3b30;color:#fff;padding:3px 8px;border-radius:12px;font-weight:600;font-size:12px}

/* center */
.col-center{flex:1;display:flex;flex-direction:column}
.chat-empty{height:100%;display:flex;align-items:center;justify-content:center}
.chat-panel{display:flex;flex-direction:column;height:100%;background:#fff;border-radius:8px;overflow:hidden}
.chat-header{display:flex;align-items:center;padding:12px;border-bottom:1px solid #eef2f5}
.partner-avatar{width:48px;height:48px;border-radius:8px;object-fit:cover}
.partner-info{padding-left:12px;flex:1}
.partner-name{font-weight:700}
.partner-status{font-size:13px;color:var(--muted);margin-top:2px}

/* messages */
.chat-messages{flex:1;overflow:auto;padding:18px;background:linear-gradient(180deg,#f8fbff 0%, #f6f9fc 100%)}
.msg-row{display:flex;margin-bottom:12px;align-items:flex-end}
.msg-row.me{justify-content:flex-end}
.msg-avatar{width:36px;height:36px;border-radius:50%;object-fit:cover;margin-right:8px}
.msg-bubble{max-width:70%;padding:10px 14px;border-radius:14px;box-shadow:0 2px 8px rgba(13,17,23,0.04)}
.msg-bubble.me{background:var(--bubble-me);border-top-right-radius:6px}
.msg-bubble.them{background:var(--bubble-them);border-top-left-radius:6px}
.msg-meta{font-size:12px;color:var(--muted);margin-top:6px}
.attachments{margin-top:8px}
.attachments .att{margin-bottom:6px;font-size:13px}

/* composer */
.chat-composer{display:flex;gap:8px;padding:12px;border-top:1px solid #eef2f5;align-items:center;background:#fff}
.composer-left{display:flex;gap:6px;align-items:center}
.btn-tool{background:transparent;border:0;font-size:18px;cursor:pointer}
.composer-input{flex:1;border-radius:8px;padding:8px 10px;border:1px solid #e7eef7;resize:none;min-height:44px;max-height:160px}
.composer-send{padding:8px 14px;border-radius:8px}

/* right */
.col-right{width:320px}
.contact-panel{background:#fff;border-radius:8px;padding:12px}
.contact-top{text-align:center;padding:12px}
.info-avatar{width:96px;height:96px;border-radius:12px;object-fit:cover}

/* new chat drawer */
.new-chat-drawer{position:fixed;right:24px;bottom:24px;width:360px;background:#fff;border-radius:8px;box-shadow:0 10px 30px rgba(0,0,0,0.12);z-index:1050}
.new-chat-drawer.d-none{display:none}

/* responsive */
@media (max-width: 992px){ .col-right{display:none} }
@media (max-width: 768px){ .col-left{display:none} .app-main{padding:8px} }

